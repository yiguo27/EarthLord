# 《地球新主》游戏设计文档 (GDD)
**Game Design Document**

---

## 文档信息

| 项目 | 内容 |
|------|------|
| 游戏名称 | 地球新主 (EarthLord) |
| 游戏类型 | LBS生存建造游戏 |
| 核心玩法 | Walk to Earn + 领地经营 + 生存管理 |
| 目标平台 | iOS (全球发行) |
| 美术风格 | 希望朋克 (Hopepunk) 末日美学 |
| 版本 | 1.0 |
| 创建日期 | 2026-01-10 |

---

## 1. 游戏概念

### 1.1 电梯简报 (Elevator Pitch)

**一句话描述**:
> 在末日废土上,用你的双脚丈量领地、探索废墟、重建文明的真实世界生存游戏。

**核心卖点**:
- **现实世界即游戏世界**: 你走过的每一步都在创造价值
- **真实地理数据**: 基于真实POI的探索玩法
- **多人社交协作**: 交易、聊天、联盟
- **希望主题**: 不是绝望的末日,而是充满希望的重建

**对标游戏**:
- 《宝可梦GO》(LBS探索) + 《饥荒》(生存机制) + 《Rust》(多人竞争) + 《动物森友会》(建造收集)

---

### 1.2 游戏世界观

#### 背景故事

**时间线**:

```
2048年 — "终末战争"爆发
├─ 全球核心城市在72小时内被摧毁
├─ 99%的人口消失
└─ 旧世界的文明秩序彻底崩塌

2051年 — 幸存者走出废墟
├─ 《新开拓者协议》颁布
├─ 新的社会法则建立
└─ 重建时代开始

现在 — 你的故事
├─ 成为一名开拓者
├─ 用双脚丈量无主之地
└─ 在废土上建立新家园
```

**核心设定: 《新开拓者协议》**

> **第一条**: 凡以双足丈量之无主土地,皆为开拓者所有。
>
> **第二条**: 开拓者需在30天内开始建设,90天内保持活跃,否则领地回收。
>
> **第三条**: 资源无主,先到先得。探索者有权搜刮无人看管的物资。
>
> **第四条**: 鼓励开拓者之间的自愿交易与合作,禁止武力掠夺。
>
> **第五条**: 生存是第一要务,活下去就有希望。

**世界状态**:
- **自然环境**: 城市废墟但生态复苏,绿色植物破土而出
- **社会秩序**: 无政府状态,靠自愿协作
- **科技水平**: 部分现代科技可用(手机、GPS、卫星),但能源稀缺
- **人口密度**: 极低,幸存者分散各地

---

#### 视觉风格: 希望朋克 (Hopepunk)

**核心理念**: 在废墟中看到新生,在绝望中寻找希望

**美术特征**:

| 元素 | 废土感 (Wasteland) | 希望感 (Hope) |
|------|-------------------|---------------|
| 色调 | 灰褐色、锈迹色 | 嫩绿色、天蓝色、暖黄色 |
| 建筑 | 破败的大楼、坍塌的桥梁 | 新搭建的木屋、彩色标志 |
| 植被 | 荒草、枯树 | 新芽、藤蔓、花朵 |
| 光影 | 尘埃、雾霾 | 阳光穿透云层、晨曦 |
| 道具 | 生锈的工具、破损的罐头 | 干净的水瓶、新鲜食物 |

**参考作品**:
- 《最后生还者 Part II》(废墟中的绿意)
- 《地平线: 零之曙光》(自然重生)
- 《风之旅人》(温暖色调)

**UI风格**:
- 拟物化设计: 对讲机、收音机等设备UI仿真实物
- 手绘风格: 地图标记、图标带手绘质感
- 温暖配色: 主色调偏暖,避免冷色调

---

## 2. 核心游戏循环

### 2.1 游戏循环图

```
┌──────────────────────────────────────────────────────────┐
│                   核心游戏循环                             │
└──────────────────────────────────────────────────────────┘

      ┌─────────────┐
      │  登录游戏    │
      └──────┬──────┘
             │
             ↓
      ┌─────────────┐
      │ GPS圈地占领  │ ← 核心玩法1: 现实步行
      └──────┬──────┘
             │
             ↓
      ┌─────────────┐
      │ 探索搜刮POI  │ ← 核心玩法2: Walk to Earn
      └──────┬──────┘
             │
             ↓
      ┌─────────────┐
      │ 获得资源     │ (食物、材料、工具)
      └──────┬──────┘
             │
        ┌────┴────┐
        ↓         ↓
   ┌────────┐  ┌────────┐
   │建造建筑│  │交易换物│ ← 资源消耗出口
   └────┬───┘  └───┬────┘
        │         │
        └────┬────┘
             ↓
      ┌─────────────┐
      │ 领地发展壮大 │
      └──────┬──────┘
             │
        ┌────┴────┐
        ↓         ↓
   ┌────────┐  ┌────────┐
   │社交聊天│  │成就排行│ ← 社交反馈
   └────┬───┘  └───┬────┘
        │         │
        └────┬────┘
             │
             ↓
      ┌─────────────┐
      │ 继续探索...  │ ← 循环开始
      └─────────────┘
```

### 2.2 会话设计

**短会话 (5-10分钟)**:
1. 打开App查看背包
2. 使用食物/水补充体征
3. 查看消息和聊天
4. 领取每日任务奖励

**中会话 (20-30分钟)**:
1. 出门步行探索
2. 发现2-3个POI并搜刮
3. 回到领地建造1-2个建筑
4. 在公共频道聊天社交

**长会话 (1-2小时)**:
1. 规划新的圈地路线
2. 完成一次大范围圈地
3. 探索多个POI收集资源
4. 建造多个建筑升级领地
5. 发布交易挂单
6. 参与频道讨论和PTT呼叫

---

## 3. 核心玩法系统

### 3.1 圈地系统 (Territory System)

#### 玩法描述
玩家通过在现实世界步行,用GPS轨迹围出一个封闭的多边形区域,即可占领该领地。

#### 操作流程
```
1. 打开地图 → 点击"开始圈地"
2. 开始步行 → GPS记录轨迹(蓝色线条)
3. 走回起点附近 → 轨迹自动闭合(绿色多边形)
4. 系统验证 → 检查合法性(无重叠、无作弊)
5. 占领成功 → 领地归属玩家
```

#### 规则设计

**圈地限制**:

| 参数 | 数值 | 原因 |
|------|------|------|
| 最小面积 | 500 m² | 防止碎片化领地 |
| 最大面积 | 100,000 m² | 平衡游戏,避免垄断 |
| 单次时长 | 无限制 | 但GPS偏移会增加,鼓励快速完成 |
| 轨迹点间隔 | 3-5米 | 保证精度但节省流量 |
| 闭合判定 | 起点30米内 | 容忍GPS误差 |

**合法性检查**:
- [ ] 无自交 (Self-intersection): 轨迹不能交叉
- [ ] 无重叠: 不与已有领地重叠
- [ ] 无作弊: GPS速度 < 20km/h (防止开车作弊)
- [ ] 合理形状: 长宽比 < 10:1 (防止恶意拉线)

**奖励机制**:
- 面积越大 → 成就点数越高 → 排行榜排名越高
- 圈地完成 → 解锁成就 → 获得金币奖励

#### 策略深度

**选址策略**:
- **POI密集区**: 方便探索但竞争激烈
- **偏远区域**: 竞争少但探索效率低
- **边界圈地**: 利用自然边界(河流、山脉)节省步数

**形状优化**:
- **圆形**: 面积/周长比最优,但现实难以实现
- **矩形**: 易于规划,适合城市街区
- **不规则**: 利用地形,圈入更多POI

---

### 3.2 探索系统 (Exploration System)

#### 玩法描述
玩家在现实世界步行移动,当接近真实POI(医院、超市等)时,可以进行"搜刮",获得对应资源。

#### POI类型与资源表

| POI类型 | 示例 | 主要产出 | 稀有产出 | 掉落数量 |
|---------|------|---------|---------|---------|
| 🏥 医疗 | 医院、诊所、药店 | 绷带×5-10<br>药品×3-8 | 抗生素×1-3<br>急救包×1-2 | 20-30个/次 |
| 🛒 商业 | 超市、便利店、餐厅 | 罐头×10-20<br>饮用水×5-15 | 高级食材×2-5 | 30-50个/次 |
| 🏭 工业 | 工厂、工地、仓库 | 金属×8-15<br>钢材×5-10 | 稀有合金×1-3 | 20-35个/次 |
| 🌳 自然 | 公园、林地、山区 | 木材×10-20<br>布料×5-10 | 种子×1-3 | 25-40个/次 |
| 🏦 金融 | 银行、珠宝店 | 稀有材料×3-8 | 电子元件×1-3 | 10-20个/次 |
| 🏫 教育 | 学校、图书馆 | 布料×5-10<br>工具×3-6 | 书籍×1-2 | 15-25个/次 |

#### 掉落算法

```
总掉落数量 = 基础数量 × (1 + 会员加成) × 随机系数

随机系数 = 0.8 ~ 1.2 (正态分布)

稀有物品掉落概率:
- 普通物品: 100%
- 稀有物品: 30%
- 史诗物品: 10%
- 传说物品: 1%
```

#### 冷却机制

**设计目的**: 防止同一POI反复刷资源

| 冷却时长 | 说明 |
|---------|------|
| 12小时 | 单个POI的刷新时间 |
| 重置时间 | 每天04:00 AM |
| 会员特权 | VIP冷却时间减半(6小时) |

#### 探索成就

**距离统计**:
- 累计探索距离
- 单次探索最远距离
- 连续探索天数

**奖励机制**:
```
每探索1km → 10金币
每探索10km → 解锁成就 → 额外奖励
```

---

### 3.3 资源系统 (Resource System)

#### 资源分类

**消耗品 (Consumables)**:

| 名称 | 用途 | 获取方式 |
|------|------|---------|
| 罐头食品 | 恢复饱食度+30 | 搜刮超市/餐厅 |
| 饮用水 | 恢复水分+40 | 搜刮超市/公园 |
| 急救包 | 恢复生命+50 | 搜刮医院/药店 |
| 抗生素 | 治疗疾病状态 | 稀有掉落 |

**建造材料 (Building Materials)**:

| 名称 | 用途 | 获取方式 |
|------|------|---------|
| 木材 | 建造Tier 1建筑 | 搜刮公园/林地 |
| 石头 | 建造Tier 1建筑 | 搜刮工地 |
| 金属 | 建造Tier 2建筑 | 搜刮工厂 |
| 钢材 | 建造Tier 2/3建筑 | 搜刮工地/工厂 |
| 电子元件 | 建造Tier 3建筑 | 稀有掉落/银行 |
| 稀有合金 | 建造Tier 3建筑 | 稀有掉落/工厂 |

**特殊物品 (Special Items)**:

| 名称 | 用途 | 获取方式 |
|------|------|---------|
| 金币 | 游戏内货币,购买道具 | 成就、任务、交易 |
| 卫星模块 | 升级通讯设备 | 稀有掉落/内购 |
| 建筑图纸 | 解锁新建筑类型 | 成就、活动 |

#### 背包系统

**容量设计**:
```
初始容量: 100格
升级方式:
- 建造"小仓库" → +50格
- 建造"中仓库" → +100格
- 建造"大仓库" → +200格
- VIP会员 → +50格永久

最大容量: 500格
```

**堆叠规则**:
- 同类物品可堆叠
- 每格最大堆叠: 99个
- 特殊物品不可堆叠(图纸、卫星模块)

#### 资源流通

**获得途径**:
1. 探索搜刮 (主要)
2. 玩家交易 (次要)
3. 成就奖励
4. 每日签到
5. 内购资源包

**消耗途径**:
1. 建造建筑 (主要)
2. 维修建筑
3. 升级建筑
4. 恢复体征
5. 玩家交易

---

### 3.4 建造系统 (Building System)

#### 建筑分类与作用

**生存类 (Survival)**:

| 名称 | Tier | 消耗资源 | 作用 | 占地 |
|------|------|---------|------|------|
| 篝火 | 1 | 石头×20<br>木材×30 | 提供温暖,+5生命/小时 | 2×2m |
| 帐篷 | 1 | 布料×40<br>木材×20 | 休息场所,加速体征恢复 | 3×3m |
| 木屋 | 2 | 木材×100<br>石头×50 | 高级住所,+10生命/小时 | 5×5m |
| 钢筋房屋 | 3 | 钢材×80<br>金属×120 | 永久住所,+20生命/小时 | 8×8m |

**储存类 (Storage)**:

| 名称 | Tier | 消耗资源 | 作用 | 占地 |
|------|------|---------|------|------|
| 小仓库 | 1 | 木材×50 | 背包容量+50格 | 3×3m |
| 中仓库 | 2 | 木材×100<br>金属×50 | 背包容量+100格 | 5×5m |
| 大仓库 | 3 | 钢材×100<br>金属×80 | 背包容量+200格 | 8×8m |

**生产类 (Production)**:

| 名称 | Tier | 消耗资源 | 作用 | 占地 |
|------|------|---------|------|------|
| 工作台 | 1 | 木材×60<br>石头×40 | 制作简单道具 | 4×4m |
| 农田 | 2 | 木材×80<br>种子×10 | 每24h产出食物×10 | 10×10m |
| 工厂 | 3 | 金属×150<br>电子元件×20 | 每24h产出材料×20 | 12×12m |

**能源类 (Energy)**:

| 名称 | Tier | 消耗资源 | 作用 | 占地 |
|------|------|---------|------|------|
| 太阳能板 | 2 | 金属×60<br>电子元件×10 | 提供能源,加速生产20% | 5×5m |
| 风力发电机 | 2 | 金属×80<br>电子元件×15 | 提供能源,加速生产30% | 6×6m |
| 核能发电站 | 3 | 稀有合金×50<br>电子元件×30 | 提供能源,加速生产50% | 15×15m |

#### 建筑状态机

```
       [建造中]
          ↓ (建造完成)
       [待激活]
          ↓ (激活操作)
       [运行中] ←→ [损坏] (维修后恢复)
          ↓ (长期未维护)
        [废弃]
```

**状态说明**:

| 状态 | 功能是否可用 | 可执行操作 | 转换条件 |
|------|------------|-----------|---------|
| 建造中 | ❌ | 查看进度 | 时间到达 → 待激活 |
| 待激活 | ❌ | 激活 | 玩家激活 → 运行中 |
| 运行中 | ✅ | 使用、升级、维修 | 时间/事件 → 损坏 |
| 损坏 | ❌ | 维修 | 玩家维修 → 运行中 |
| 废弃 | ❌ | 拆除 | 无法恢复 |

#### 建筑升级

**升级条件**:
- 建筑状态 = "运行中"
- 资源足够 (消耗 = 建造成本 × 1.5)
- 领地活跃度 > 60%

**升级收益**:
```
效果提升 = 基础效果 × (1 + 0.5 × Tier)

示例:
篝火 Tier 1: +5生命/小时
篝火 Tier 2: +7.5生命/小时
篝火 Tier 3: +10生命/小时
```

---

### 3.5 交易系统 (Trade System)

#### 玩法描述
玩家可以发布"以物易物"挂单,其他玩家进入发布者领地100米内时可以看到并接受交易。

#### 交易流程

```
1. 发布挂单
   ├─ 选择"我提供"的物品 (如: 罐头×10)
   ├─ 选择"我需要"的物品 (如: 药品×5)
   └─ 发布到交易市场

2. 发现挂单
   ├─ 玩家A在地图上移动
   ├─ 进入玩家B领地100米范围
   └─ 系统提示"发现交易挂单"

3. 接受交易
   ├─ 玩家A查看挂单详情
   ├─ 检查自己是否有"我需要"的物品
   ├─ 点击"接受交易"
   └─ 双方资源同时扣除/增加

4. 交易完成
   ├─ 系统消息通知双方
   ├─ 挂单自动下架
   └─ 记录到交易历史
```

#### 交易规则

**发布限制**:
- 同时最多发布5个挂单
- 单个挂单有效期: 7天
- 需要开启领地"允许交易"开关

**地理限制**:
- 只有进入发布者领地100米内才能看到挂单
- 鼓励玩家探索和移动

**资源限制**:
- 挂单资源会被"锁定",不可使用
- 取消挂单后立即解锁

#### 交易推荐

**系统匹配**:
```
根据玩家背包情况,推荐可能感兴趣的交易:
- 你有大量罐头 → 推荐"用罐头换药品"的挂单
- 你缺少金属 → 推荐"用你有的资源换金属"的挂单
```

---

### 3.6 生存体征系统 (Vital Signs System)

#### 设计理念
生存游戏的核心是"资源消耗循环",生存体征创造持续的资源需求,驱动玩家持续探索。

#### 三大体征

**核心生命 (Health)**:
- 初始值: 100
- 最大值: 100
- 最小值: 0 (归零则"昏迷",24小时内需复活)

**饱食度 (Hunger)**:
- 初始值: 100%
- 衰减速度: -5%/小时
- 恢复方式: 使用食物

**水分 (Hydration)**:
- 初始值: 100%
- 衰减速度: -10%/小时 (比饿得快)
- 恢复方式: 使用饮用水

#### 状态效果

**增益状态 (饱食度>80 且 水分>80)**:
- 探索效率+20% (掉落数量增加)
- 建造速度+20%
- 体力消耗-20%

**正常状态 (40~80)**:
- 无增益无惩罚

**虚弱状态 (20~40)**:
- 移动速度-20%
- 掉落数量-20%

**危险状态 (<20)**:
- 核心生命开始下降 (-1/分钟)
- 移动速度-50%
- 无法建造

**昏迷状态 (生命=0)**:
- 无法操作
- 24小时内可复活 (消耗急救包×3)
- 超时则重置角色 (领地保留)

#### 平衡性设计

**消耗计算**:
```
每日消耗 (无增益):
- 饱食度: 5%/h × 24h = 120% → 需要食物恢复120点
- 水分: 10%/h × 24h = 240% → 需要水恢复240点

对应物品需求:
- 罐头(+30饱食度) × 4个 = 120
- 饮用水(+40水分) × 6个 = 240

每日探索收益:
- 搜刮2个超市POI → 罐头×20-40, 水×10-30
→ 足够2-3天消耗
```

**设计意图**:
- 不会让玩家感到"太肝"(每天只需1-2次探索)
- 但也不能完全不管(3天不上线会饿死)
- 创造"登录驱动力"和"资源消耗出口"

---

### 3.7 社交系统 (Social System)

#### 实时聊天 (Real-time Chat)

**公共频道**:
- 覆盖范围: 3km
- 可见玩家: 附近所有玩家
- 消息类型: 文字、表情
- 特点: 基于位置的陌生人社交

**私人频道 (Channels)**:
- 创建方式: 任何玩家可创建
- 加入方式: 搜索频道名或邀请链接
- 容量限制: 100人/频道
- 管理权限: 创建者为管理员

**私聊 (Direct Message)**:
- 添加好友后可私聊
- 不受地理限制
- 支持离线消息

#### PTT呼叫 (Push-to-Talk)

**操作方式**:
- 长按麦克风按钮 → 录音 → 松开发送
- 模拟真实对讲机体验

**频率系统**:
```
公共频率: 438.000 MHz (所有人可用)
私人频率: 自定义 (频道专属)
```

**设备等级限制**:

| 设备 | PTT功能 | 覆盖范围 |
|------|---------|---------|
| 收音机 | ❌ 只能接收 | - |
| 对讲机 | ✅ 可收发 | 3km |
| 营地电台 | ✅ 可收发 | 10km |
| 卫星通讯 | ✅ 可收发 | 全球 |

#### 好友系统

**添加方式**:
- 附近玩家: 进入对方领地100米自动显示
- 搜索ID: 输入玩家ID添加
- 频道成员: 频道内添加

**好友互动**:
- 查看好友领地
- 赠送物品 (每日限3次)
- 协作建造 (在好友领地帮忙)

---

## 4. 进度系统

### 4.1 成就系统 (Achievement System)

#### 成就分类

**新手成就 (Tutorial)**:

| 成就名称 | 完成条件 | 奖励 | 稀有度 |
|---------|---------|------|-------|
| 新手领主 | 完成第一次圈地 | 100金币 | 普通 |
| 末世拾荒者 | 完成第一次搜刮 | 100金币 | 普通 |
| 建造者 | 建造第一个建筑 | 100金币 | 普通 |
| 交易学徒 | 完成第一笔交易 | 150金币 | 普通 |
| 频道之声 | 发送第一条消息 | 50金币 | 普通 |

**探索成就 (Exploration)**:

| 成就名称 | 完成条件 | 奖励 | 稀有度 |
|---------|---------|------|-------|
| 城市探险家 | 探索10个POI | 300金币 | 稀有 |
| 废墟猎人 | 探索50个POI | 1000金币 | 史诗 |
| 全球行者 | 探索距离100km | 2000金币 | 史诗 |
| 传奇探险家 | 探索5个国家 | 10000金币 | 传说 |

**建造成就 (Building)**:

| 成就名称 | 完成条件 | 奖励 | 稀有度 |
|---------|---------|------|-------|
| 建筑工人 | 建造5个建筑 | 300金币 | 稀有 |
| 建筑大师 | 建造20个建筑 | 1000金币 | 史诗 |
| 城市规划师 | 建造50个建筑 | 3000金币 | 传说 |

**领地成就 (Territory)**:

| 成就名称 | 完成条件 | 奖励 | 稀有度 |
|---------|---------|------|-------|
| 小地主 | 领地面积1,000m² | 200金币 | 稀有 |
| 领地霸主 | 领地面积100,000m² | 2000金币 | 史诗 |
| 大陆之王 | 领地数量10块 | 5000金币 | 传说 |

**社交成就 (Social)**:

| 成就名称 | 完成条件 | 奖励 | 稀有度 |
|---------|---------|------|-------|
| 社交达人 | 添加10个好友 | 300金币 | 稀有 |
| 交易大亨 | 完成100笔交易 | 1500金币 | 史诗 |
| 频道之王 | 创建3个频道 | 800金币 | 稀有 |

#### 成就完成度

**进度显示**:
```
总成就数: 45个
已完成: 18个
完成度: 40%
```

**稀有度分布**:
- 普通 (Common): 20个
- 稀有 (Rare): 15个
- 史诗 (Epic): 8个
- 传说 (Legendary): 2个

---

### 4.2 排行榜 (Leaderboard)

#### 榜单类型

**领地面积榜**:
- 统计: 玩家所有领地总面积
- 更新: 实时
- 榜单长度: Top 100
- 奖励: 赛季结束发放

**探索废墟榜**:
- 统计: 累计搜刮POI数量
- 更新: 实时
- 榜单长度: Top 100

**建筑数量榜**:
- 统计: 累计建造建筑数量
- 更新: 实时
- 榜单长度: Top 100

#### 赛季系统

**赛季长度**: 30天

**赛季奖励**:

| 排名 | 领地面积榜 | 探索榜 | 建筑榜 |
|------|-----------|--------|--------|
| 第1名 | 10,000金币+传说皮肤 | 8,000金币+史诗皮肤 | 6,000金币+稀有皮肤 |
| 第2-10名 | 5,000金币+史诗皮肤 | 3,000金币+稀有皮肤 | 2,000金币 |
| 第11-100名 | 1,000金币 | 500金币 | 300金币 |

---

### 4.3 每日任务 (Daily Quest)

#### 任务设计

**每日任务 (3个/天)**:

| 任务 | 奖励 | 难度 |
|------|------|------|
| 探索1个POI | 100金币 | 简单 |
| 建造1个建筑 | 150金币 | 简单 |
| 发送5条消息 | 50金币 | 简单 |
| 步行1km | 100金币 | 简单 |
| 使用1次食物/水 | 50金币 | 简单 |

**每周任务 (3个/周)**:

| 任务 | 奖励 | 难度 |
|------|------|------|
| 探索10个POI | 500金币 | 中等 |
| 圈地1次 | 800金币 | 中等 |
| 完成3笔交易 | 600金币 | 中等 |
| 步行10km | 800金币 | 困难 |

**赛季任务 (3个/赛季)**:

| 任务 | 奖励 | 难度 |
|------|------|------|
| 探索50个POI | 3000金币 | 困难 |
| 建造10个建筑 | 2500金币 | 困难 |
| 领地面积达到10,000m² | 4000金币 | 困难 |

---

## 5. 经济系统

### 5.1 货币系统

**主货币: 金币**

**获取途径**:
1. 成就奖励 (主要)
2. 每日任务
3. 排行榜奖励
4. 玩家交易 (使用资源换金币)
5. 内购 (真钱购买)

**消耗途径**:
1. 购买资源包 (商城)
2. 加速建造
3. 升级设备
4. 购买皮肤

### 5.2 资源价值

**资源稀有度与价值**:

| 稀有度 | 资源示例 | 获取难度 | 市场价值 |
|--------|---------|---------|---------|
| 普通 | 木材、石头、罐头 | 低 | 1金币/个 |
| 稀有 | 金属、钢材、药品 | 中 | 5金币/个 |
| 史诗 | 稀有合金、电子元件 | 高 | 20金币/个 |
| 传说 | 卫星模块、图纸 | 极高 | 100金币/个 |

### 5.3 交易经济

**市场调节**:
- 系统不设固定价格,完全由玩家自由定价
- 但提供"参考价格"(基于历史交易数据)

**防通胀机制**:
- 资源持续消耗(建造、维修、体征)
- 领地回收机制(90天不活跃)
- 交易税 (系统抽取5%金币作为手续费)

---

## 6. 付费设计

### 6.1 订阅制 (Subscription)

**开拓者月卡 ($9.99/月)**:
- 探索无冷却时间
- 探索范围+50%
- 背包容量+50格
- 每日赠送100金币

**领主通行证 ($19.99/月)**:
- 包含月卡所有权益
- 解锁卫星通讯
- 专属皮肤和头像框
- 每日赠送200金币
- 交易免手续费

### 6.2 内购 (In-App Purchase)

**资源包**:

| 商品 | 价格 | 内容 |
|------|------|------|
| 初级物资包 | $0.99 | 罐头×50, 水×50, 木材×100 |
| 中级物资包 | $2.99 | 金属×50, 药品×30, 金币×500 |
| 高级物资包 | $9.99 | 稀有合金×20, 电子元件×10, 金币×2000 |

**设备升级**:

| 商品 | 价格 | 内容 |
|------|------|------|
| 对讲机 | $4.99 | 解锁PTT功能 (也可用资源换) |
| 营地电台 | $9.99 | 10km覆盖范围 |
| 卫星通讯 | $19.99 | 全球覆盖 (VIP专属) |

**皮肤**:

| 商品 | 价格 | 内容 |
|------|------|------|
| 建筑皮肤包 | $1.99 | 5种建筑外观 |
| 头像框 | $0.99 | 个性化头像框 |
| 地图主题 | $2.99 | 改变地图配色 |

### 6.3 广告变现

**激励视频**:
- 观看30秒广告 → 获得100金币
- 每日限3次
- 适合非付费玩家

**横幅广告**:
- 在非付费用户界面底部显示
- 不影响核心玩法

---

## 7. 平衡性设计

### 7.1 新手体验

**前30分钟流程**:

```
1. 打开App → 注册登录 (2分钟)
2. 新手引导 → 了解世界观 (3分钟)
3. 第一次圈地 → 完成教学 (10分钟)
4. 第一次探索 → 搜刮POI获得资源 (8分钟)
5. 第一次建造 → 建造篝火 (5分钟)
6. 解锁成就 → 获得金币奖励 (2分钟)
```

**新手保护**:
- 前3次圈地无面积下限
- 前5次探索必出稀有物品
- 建造速度前10个建筑加速50%

### 7.2 中期平衡

**防止数值膨胀**:
- 建筑升级成本递增 (指数增长)
- 领地面积越大,维护成本越高
- 高级资源掉落率低

**鼓励多样化玩法**:
- 成就覆盖所有玩法(探索、建造、社交、交易)
- 排行榜有多个维度,不只看领地大小

### 7.3 长期留存

**目标设定**:
- 短期目标: 每日任务、探索POI
- 中期目标: 建造完整家园、解锁成就
- 长期目标: 排行榜竞争、收集所有建筑

**社交粘性**:
- 频道社群 → 归属感
- 好友协作 → 社交压力(不能丢下队友)
- 交易依赖 → 资源互补

---

## 8. 技术实现要点

### 8.1 地图系统

**技术选型**: MapKit (苹果原生)

**优势**:
- 完全免费,无调用次数限制
- 全球175国可用
- 与iOS深度集成

**关键功能**:
- `MKMapView`: 地图渲染
- `CLLocationManager`: GPS定位
- `MKPolyline`: 绘制圈地轨迹
- `MKPolygon`: 显示领地区域
- `MKLocalSearch`: POI搜索

### 8.2 数据库设计

**技术选型**: Supabase (PostgreSQL + PostGIS)

**地理数据类型**:
```sql
-- 领地多边形
geometry GEOMETRY(POLYGON, 4326)

-- 建筑点位
geometry GEOMETRY(POINT, 4326)

-- 玩家位置
geometry GEOMETRY(POINT, 4326)
```

**空间查询**:
```sql
-- 查询附近领地
SELECT * FROM territories
WHERE ST_DWithin(
  geometry,
  ST_SetSRID(ST_MakePoint(lng, lat), 4326)::geography,
  100  -- 100米
);

-- 判断领地重叠
SELECT ST_Intersects(
  new_territory.geometry,
  existing_territory.geometry
);
```

### 8.3 实时通讯

**技术选型**: Supabase Realtime

**实现**:
```javascript
// 订阅公共频道消息
supabase
  .channel('public_chat')
  .on('postgres_changes', {
    event: 'INSERT',
    schema: 'public',
    table: 'messages'
  }, (payload) => {
    // 新消息实时推送
    displayMessage(payload.new)
  })
  .subscribe()
```

### 8.4 防作弊机制

**GPS速度检测**:
```swift
if speed > 20 km/h {
  // 疑似开车作弊,拒绝记录轨迹
  showWarning("请步行圈地")
}
```

**轨迹合理性检测**:
- 检测突然瞬移 (GPS漂移)
- 检测异常长度的直线 (拉线作弊)
- 检测过于规则的形状 (模拟器)

---

## 9. 美术资源需求

### 9.1 UI界面

**主界面**:
- 地图视图 (全屏)
- 底部Tab栏 (地图、资源、建造、通讯、个人)
- 顶部状态栏 (体征显示)

**风格参考**:
- 拟物化设计 (对讲机UI)
- 手绘地图风格
- 温暖色调

### 9.2 建筑模型

**2D图标 (地图显示)**:
- 15种建筑图标
- 3个等级颜色区分 (绿/蓝/紫)
- 状态标识 (建造中/运行中/损坏)

**参考风格**: 扁平化图标 + 轻微质感

### 9.3 资源图标

**40+资源图标**:
- 食物类 (罐头、水、食材)
- 材料类 (木材、金属、电子元件)
- 工具类 (急救包、工具箱)
- 特殊类 (金币、图纸、卫星模块)

### 9.4 动画效果

**必要动画**:
- 圈地轨迹绘制动画
- 建筑建造进度动画
- 物品掉落动画
- 聊天气泡弹出动画

---

## 10. 音效音乐需求

### 10.1 背景音乐

**主题**: 希望朋克 + 末日氛围

**风格**:
- 主旋律: 温暖、舒缓、带希望感
- 底层: 空灵的环境音 (风声、远处的鸟鸣)
- 乐器: 吉他、钢琴、合成器

**参考**: 《最后生还者》OST、《风之旅人》OST

### 10.2 音效

**UI音效**:
- 按钮点击: 轻柔的咔哒声
- 页面切换: 呼啸声
- 成就达成: 欢快的铃铛声

**游戏音效**:
- 圈地成功: 庆祝音效
- 发现POI: 提示音
- 获得物品: 拾取音效
- 建造完成: 锤击音效
- 收到消息: 对讲机滋滋声

---

## 11. 迭代计划

### v1.0 (MVP)
- ✅ 核心圈地玩法
- ✅ 基础探索系统
- ✅ 简单建造功能
- ✅ 公共聊天
- ✅ 付费订阅

### v1.1 (社交增强)
- 📋 交易系统
- 📋 频道管理
- 📋 PTT呼叫
- 📋 好友系统

### v1.2 (深度玩法)
- 📋 生存体征
- 📋 成就系统
- 📋 排行榜
- 📋 每日任务

### v2.0 (全球化)
- 📋 多语言支持
- 📋 全球服务器
- 📋 跨区域PVP

### v3.0 (联盟系统)
- 📋 联盟创建
- 📋 联盟战争
- 📋 大型联盟建筑

---

## 12. 总结

### 核心优势

1. **真实世界联动**: 用户的每一步都在创造游戏价值
2. **社交粘性强**: 基于位置的真实社交
3. **商业模式清晰**: 订阅+内购双驱动
4. **技术成本低**: 基于Supabase和MapKit,个人可开发

### 核心挑战

1. **用户冷启动**: 需要足够密度的玩家才能激活社交
2. **作弊防御**: GPS作弊需要持续对抗
3. **长期留存**: 需要持续内容更新

### 成功关键

1. **新手体验**: 前30分钟必须让玩家感受到乐趣
2. **社交氛围**: 通过运营建立核心玩家社群
3. **持续迭代**: 根据数据快速调整平衡性

---

**文档结束**

*这是一个充满希望的末日故事。在废土之上,用双脚丈量新世界。*
